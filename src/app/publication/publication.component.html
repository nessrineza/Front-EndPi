<app-header-user></app-header-user><div class="row">
  <div class="row" style="margin-top: 50px;margin-left: 40px;">
      <div class="col-md-12">

          <div class="row">
              <div class="card" class="text-center">
                  <table class="table">
                      <thead style="background-color: rgb(192, 183, 183);">
                          <th>Name</th>
                          <th>Description</th>
                          <th>Favoris</th>
                          <th>Report</th>
                          <th>Date</th>

                      </thead>
                      <tbody>
                          <tr *ngFor='let p of listPublications'>
                              <td >
                                <a [routerLink]="['/com', p.id]" > {{p.subject}}</a></td>
                              <td><a [routerLink]="['/com', p.id]" >{{p.description}}</a></td>

                              <td>{{p.favoris}}</td>
                              <td>{{p.report}}</td>
                              <td>{{p.date}}</td>

                              <td><button type="button" class="btn btn-outline-primary"
                                      (click)="open(mymodal)">edit</button>
                                  <ng-template #mymodal let-modal>
                                      <div class="modal-header">
                                          <h4 class="modal-title" id="modal-basic-title">Edit</h4>
                                          <button type="button" class="close" onclick="location.reload();" aria-label="Close"
                                              (click)="modal.dismiss('Cross click')">
                                              <span aria-hidden="true" (click)="cancel()">Ã—</span>

                                          </button>

                                      </div>
                                      <div>
                                   <form>
                                          <div class="modal-body">

                                              <div class="row" class="col-md-5">
                                                  <label>subject</label>
                                                  <input type="text" [(ngModel)]="p.subject" [ngModelOptions]="{standalone : true}" />
                                              </div>
                                              <div class="row" class="col-md-5">
                                                <label>Description</label>
                                                <input type="text" [(ngModel)]="p.description" [ngModelOptions]="{standalone : true}" />
                                            </div>

                                              <div class="row" class="col-md-5">
                                                  <label>Favoris</label>
                                                  <input type="number" [(ngModel)]="p.favoris" [ngModelOptions]="{standalone : true}" />
                                              </div>
                                              <div class="row" class="col-md-5">
                                                  <label>Report</label>
                                                  <input type="number" [(ngModel)]="p.report" [ngModelOptions]="{standalone : true}" />
                                              </div>
                                              <div class="row" class="col-md-5">
                                                <label>Date</label>
                                                <input type="date" [(ngModel)]="p.date" [ngModelOptions]="{standalone : true}" />
                                            </div>
                                          </div>

                                          <div class="modal-footer">

                                              <button type="button" class="btn btn-info"
                                                  (click)="modal.close('Save click')" (click)="cancel()">Cancel</button>
                                              <button class="btn btn-success"(click)="editPublication(p)" (click)="modal.close('Save click')">Validate</button>
                                          </div>
                                      </form>
                                  </div>
                                  </ng-template>
                                  <button type="button" class="btn btn-outline-danger"
                                  onclick="location.reload();" (click)="deletePublication(p.id)">delete</button>
                              </td>
                          </tr>
                      </tbody>
                  </table>
                  <button   class="badge rounded-pill bg-success" style="padding: 0.7rem 1rem; font-size: 0.9rem;" (click)="open(mymodal1)">Add new Publication</button>
                  <br><br>
                  <ng-template #mymodal1 let-modal1>
                      <div class="modal-header">
                        <h4>Add new Publication</h4>
                          <button type="button" onclick="location.reload();"  class="close" aria-label="Close" (click)="modal1.dismiss('Cross click')">
                              <span aria-hidden="true" (click)="cancel()"></span>
                          </button>

                      </div>
                      <div class="center">
                    <form>
                          <div class="row" class="input-group mb-3">
                              <input type="text" class="form-control" required placeholder="Publication title" [(ngModel)]="publication.subject"
                                  [ngModelOptions]="{standalone : true}">
                          </div>
                         <div class="row" class="input-group mb-3" >
                          <input type="text" class="form-control" [(ngModel)]="publication.description"
                          [ngModelOptions]="{standalone : true}" style="height:150px;"
                          >
                             <!--begin-->
                            <!-- <ejs-richtexteditor [enableHtmlSanitizer]="true" [toolbarSettings]="tools" placeholder="Contenu" ><ng-template #valueTempalte ><p>Wooow</p></ng-template>
                            </ejs-richtexteditor> -->



                           <!--  <grammarly-editor-plugin>
                              <textarea></textarea>
                            </grammarly-editor-plugin>  -->


                            <!--<tx-document-editor
                            width="1000px"
                            height="500px"
                            webSocketURL="wss://backend.textcontrol.com?access-token=AZbOxNs1yxLAjjJ5GCFa"
                            [(ngModel)]="publication.description"
                            [ngModelOptions]="{standalone : true}"><ng-template #valueTempalte ><p>Wooow</p></ng-template>
                            </tx-document-editor><!-->
                          </div>
<!--end-->
                          <br>
                          <div class="d-flex justify-content-center">

                          <button type="button" class="badge rounded-pill bg-success" style="padding: 0.7rem 1rem; font-size: 1.1rem;"
                          (click)="addPublication(publication)" onclick="location.reload();" (click)="modal1.close('Save click')">Add</button>
                          <button type="button" class="badge rounded-pill bg-secondary" style="padding: 0.7rem 1rem; font-size: 1.1rem;" (click)="modal1.close('Save click')" >Cancel</button>
                          </div>
                          <br>
                      </form>
                  </div>
                  </ng-template>
              </div>

          </div>
      </div>
  </div>
  </div>

  <!-- ======= Footer ======= -->
<app-footer-user></app-footer-user>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="/assets/front/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="/assets/front/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/assets/front/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="/assets/front/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="/assets/front/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="/assets/front/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="/assets/front/css/style.css" rel="stylesheet">



    <!-- Vendor JS Files -->
    <script src="/assets/front/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/front/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="/assets/front/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="/assets/front/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="/assets/front/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <script src="/assets/front/js/main.js"></script>
